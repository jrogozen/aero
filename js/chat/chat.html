<section ng-if="!editMode" class="well">
  <h1>Add Message</h1>
  <form ng-submit="saveMessage(message)">
    <div class="form-group">
      <label>Name</label>
      <input class="form-control" type="text" ng-model="message.author"/>
    </div>
    <div class="form-group">
      <label>Message</label>
      <textarea class="form-control" ng-model="message.content"></textarea>
    </div>
    <button class="btn btn-success">Save
    </button>
  </form>  
</section>

<section ng-if="editMode" class="well edit">
  <h1>Edit Message</h1>
  <form>
    <div class="form-group">
      <label>Name</label>
      <input class="form-control" type="text" ng-model="updatedMessage.author"/>
    </div>
    <div class="form-group">
      <label>Message</label>
      <textarea class="form-control" ng-model="updatedMessage.content"></textarea>
    </div>
    <button class="btn btn-success" ng-click="finishEdit(updatedMesssage)">Update
    </button>
    <button class="btn btn-danger" ng-click="cancelEdit()">Cancel
    </button>
  </form>
</section>

<ul class="list-unstyled">
  <li ng-repeat="message in messages | orderBy:'-timestamp'">
    <section class="message">
      <h1>{{message.author}} | {{message.id}}
      <small>{{message.timestamp | date : "MM/dd/yy @ h:mma" }}</small>
      </h1>

      <blockquote>
        {{message.content}}
      </blockquote>

      <a ng-if="message.editable" class="btn btn-warning btn-xs" ng-click="startEdit(message)">edit message</a>
    </section>
  </li>
</ul>
